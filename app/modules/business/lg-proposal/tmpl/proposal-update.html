<div class="title-bar clearfix">
	<div class="left">
		<i class="fa fa-tag" aria-hidden="true"></i>
	</div>
	<div class="right">
		<h1>Proposition</h1>
		<h2 ng-show="$ctrl.proposal.current.ad_type === 'loader'">au chargeur</h2>
		<h2 ng-show="$ctrl.proposal.current.ad_type === 'carrier'">au transporteur</h2>
	</div>
</div>
<img-ad>
	<img-svg ng-show="$ctrl.proposal.current.ad_type === 'loader' && !$ctrl.proposal.current.content.imageUrl" src="/img/loader-default.svg"></img-svg>
	<img ng-show="$ctrl.proposal.current.ad_type === 'loader' && $ctrl.proposal.current.content.imageUrl" src="{{$ctrl.proposal.current.content.imageUrl}}">
	<img-svg ng-show="$ctrl.proposal.current.ad_type === 'carrier' && !$ctrl.proposal.current.content.imageUrl" src="/img/truck-default.svg"></img-svg>
	<img ng-show="$ctrl.proposal.current.ad_type === 'carrier' && $ctrl.proposal.current.content.imageUrl" src="{{$ctrl.proposal.current.content.imageUrl}}">
</img-ad>
<form name="formCtrl" ng-submit="$ctrl.fv.check(formCtrl) && $ctrl.proposal.update()" class="ad" novalidate>
	<section>
		<label>
			<span>Titre de l'annonce</span>
			<input type="text" name="titleAd" placeholder="Titre de l'annonce" ng-model="$ctrl.proposal.updateData.titleAd" required>
			<message-form-validator>
				<i ng-show="$ctrl.fv.isOk(formCtrl.titleAd)" class="fa fa-check" aria-hidden="true"></i>
				<error-message ng-show="$ctrl.fv.isError(formCtrl.titleAd)">
					<span ng-show="formCtrl.titleAd.$error.required">Le titre de l'annonce est obligatoire.</span>
				</error-message>
			</message-form-validator>
		</label>

		<label>
			<span>Nom</span>
			<input type="text" name="name" placeholder="Nom" ng-model="$ctrl.proposal.updateData.name" required>
			<message-form-validator>
				<i ng-show="$ctrl.fv.isOk(formCtrl.name)" class="fa fa-check" aria-hidden="true"></i>
				<error-message ng-show="$ctrl.fv.isError(formCtrl.name)">
					<span ng-show="formCtrl.name.$error.required">Le nom est obligatoire.</span>
				</error-message>
			</message-form-validator>
		</label>

		<label>
			<span>Email</span>
			<input type="text" name="email" placeholder="Email" ng-model="$ctrl.proposal.updateData.email" required>
			<message-form-validator>
				<i ng-show="$ctrl.fv.isOk(formCtrl.email)" class="fa fa-check" aria-hidden="true"></i>
				<error-message ng-show="$ctrl.fv.isError(formCtrl.email)">
					<span ng-show="formCtrl.email.$error.required">L'email est obligatoire.</span>
				</error-message>
			</message-form-validator>
		</label>

		<label>
			<span>Message</span>
			<textarea name="message" ng-model="$ctrl.proposal.updateData.message" required></textarea>
			<message-form-validator>
				<error-message ng-show="$ctrl.fv.isError(formCtrl.message)">
					<span ng-show="formCtrl.message.$error.required">Le message est obligatoire.</span>
				</error-message>
			</message-form-validator>
		</label>
	</section>
	<section class="dark">
		<lg-error error="$ctrl.proposal.error"></lg-error>
		<button type="submit">Mettre Ã  jour</button>
	</section>
</form>
